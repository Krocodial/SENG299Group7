
<div class="jumbotron">

<!-- get the logged in user as the user in the controller -->
<div class="page-header" ng-init="user.getUser(main.user.id)">
	
	<h1>Welcome, {{ user.userData.username }} </h1> 	
	<p>{{ user.userData.description }}</p>

	<a href="/users/{{ main.user.id }}" class="btn btn-large">Edit your information</a>
<!--
 	<hr>
	<p>Debug info:</p>

	<p>Main.user: {{ main.user }}</p>

	<p>user.UserData info:</p>
	<ul>
		<li>name: {{ user.userData.name }}</li>
		<li>phone: {{ user.userData.phone }}</li>
		<li>email: {{ user.userData.email }}</li>
		<li>username: {{ user.userData.username }}</li>
		<li>password: {{ user.userData.password }}</li>
		<li>description: {{ user.userData.description }}</li>
		<li>dt_ban_end: {{ user.userData.dt_ban_end }}</li>
		<li>security question: {{ user.userData.security_question }}</li>
		<li>seucurity answer: {{ user.userData.security_answer }}</li>
	</ul>
	<hr>
 -->
	<h3> Your stats: </h3>
	<p>Time until ban ends: {{user.userData.dt_ban_end}}</p>
</div>

<!-- When is this used.... (ever?) -->
<!-- <div class="row show-hide-message" ng-show="user.message">
	<div class="col-sm-6 col-sm-offset-2">
		
		<div class="alert alert-info">
			{{ user.message }}
		</div>
	</div>
</div>
 -->

<h3>Your Reservations</h3>

	<table class="table table-bordered table-striped" ng-controller="reservationController as res">
	<thead>
		<tr>
			<th>Booth</th>
			<th>User id</th>
			<th>Date start</th>
			<th>Delete</th>
			<th>Edit</th>
		</tr>
	</thead>
	<tbody>
		
		<!-- Only show reservations that belong to this user -->
		<tr ng-repeat="booking in res.reservations" ng-if="booking.user_id == main.user.id">

				<td>{{ booking.booth_title }}</td>
				<td>{{ booking.user_id }}</td>
				<td>{{ booking.dt_start }}</td>
				<td class="col-sm-2">
					<a href="#" ng-click="reservation.deleteReservation(booking._id)" class="btn btn-primary">Delete</a>
				</td>
				<td class="col-sm-2">
					<a href="/reservations/{{booking._id}}" class="btn btn-primary">Edit</a>
				</td>

			</div>

		</tr>
	</tbody>
</table>

</div>